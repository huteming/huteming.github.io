<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://huteming.github.io/blog</id>
    <title>特_明 Blog</title>
    <updated>2024-01-23T08:59:39.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://huteming.github.io/blog"/>
    <subtitle>特_明 Blog</subtitle>
    <icon>https://huteming.github.io/img/site/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[TS Equals]]></title>
        <id>https://huteming.github.io/blog/TS Equals</id>
        <link href="https://huteming.github.io/blog/TS Equals"/>
        <updated>2024-01-23T08:59:39.000Z</updated>
        <summary type="html"><![CDATA[在做 ts 类型练习的时候，碰到需要比较两个类型是否相同，看到答案里有这么一种方法]]></summary>
        <content type="html"><![CDATA[<p>在做 <!-- --><a href="https://typehero.dev/explore" target="_blank" rel="noopener noreferrer">ts 类型练习</a>的时候，碰到需要比较两个类型是否相同，看到答案里有这么一种方法<!-- --></p>
<!-- --><div class="language-ts codeBlockContainer_Y9Cs theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_VidV"><pre tabindex="0" class="prism-code language-ts codeBlock_t113 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_i0ct"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Equals</span><span class="token class-name operator" style="color:#393A34">&lt;</span><span class="token class-name constant" style="color:#36acaa">X</span><span class="token class-name punctuation" style="color:#393A34">,</span><span class="token class-name"> </span><span class="token class-name constant" style="color:#36acaa">Y</span><span class="token class-name operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name constant" style="color:#36acaa">X</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name constant" style="color:#36acaa">Y</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_LZxu"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_IklN" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_zQrJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_JhWk"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- --><p>这里的泛型 T 是什么意思？这段代码该怎么理解？</p>
<!-- --><p>搜索到比较好的答案在<!-- --><a href="https://stackoverflow.com/questions/68961864/how-does-the-equals-work-in-typescript" target="_blank" rel="noopener noreferrer">这里</a>，也顺便记录下自己看完后的理解<!-- --></p>
<!-- --><h2 class="anchor anchorWithStickyNavbar_hX6q" id="泛型-t-是什么意思">泛型 T 是什么意思？<!-- --><a href="https://huteming.github.io/blog/TS%20Equals#%E6%B3%9B%E5%9E%8B-t-%E6%98%AF%E4%BB%80%E4%B9%88%E6%84%8F%E6%80%9D" class="hash-link" aria-label="泛型 T 是什么意思？的直接链接" title="泛型 T 是什么意思？的直接链接">​</a></h2>
<!-- --><p><strong>没有意思</strong>！！这就是一个定义的泛型，只是我们平时用的比较多的是像这样<!-- --></p>
<!-- --><div class="language-ts codeBlockContainer_Y9Cs theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_VidV"><pre tabindex="0" class="prism-code language-ts codeBlock_t113 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_i0ct"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Identity</span><span class="token class-name operator" style="color:#393A34">&lt;</span><span class="token class-name constant" style="color:#36acaa">T</span><span class="token class-name operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><br></span></code></pre><div class="buttonGroup_LZxu"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_IklN" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_zQrJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_JhWk"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- --><p>区别只是上面这段代码在执行时会自动根据传入的 data 类型推断 T 的类型，而 Equal 中的写法需要手动传入，默认是 <!-- --><code>unknown</code>，没有任何特殊的含义<!-- --></p>
<!-- --><h2 class="anchor anchorWithStickyNavbar_hX6q" id="怎么理解这段代码">怎么理解这段代码<!-- --><a href="https://huteming.github.io/blog/TS%20Equals#%E6%80%8E%E4%B9%88%E7%90%86%E8%A7%A3%E8%BF%99%E6%AE%B5%E4%BB%A3%E7%A0%81" class="hash-link" aria-label="怎么理解这段代码的直接链接" title="怎么理解这段代码的直接链接">​</a></h2>
<!-- --><p>Equal 这段代码重点在于比较两个函数 <!-- --><code>(&lt;T&gt;() =&gt; T extends X ? 1 : 2)</code> 和 <!-- --><code>(&lt;T&gt;() =&gt; T extends Y ? 1 : 2)</code> 是否相同。<!-- --></p>
<!-- --><p>那么问题就变成 X 和 Y 是否相同。</p>
<!-- --><p>如果 X 和 Y 相同，没什么好说的， extends 一定成立；如果不同时，那么我们总能找到一种类型，使得用它作为 T 时，extends 不成立。代码如下</p>
<!-- --><div class="language-ts codeBlockContainer_Y9Cs theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_VidV"><pre tabindex="0" class="prism-code language-ts codeBlock_t113 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_i0ct"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">declare</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> x</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name builtin">number</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">declare</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> y</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name builtin">string</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">x</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name builtin">string</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">x</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name builtin">number</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">y</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name builtin">string</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> d </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">y</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name builtin">number</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 2</span><br></span></code></pre><div class="buttonGroup_LZxu"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_IklN" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_zQrJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_JhWk"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- --><div class="language-ts codeBlockContainer_Y9Cs theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_VidV"><pre tabindex="0" class="prism-code language-ts codeBlock_t113 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_i0ct"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">declare</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> x</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> foo</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> bar</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">declare</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> y</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> foo</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">x</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name punctuation" style="color:#393A34">{</span><span class="token generic-function generic class-name"> foo</span><span class="token generic-function generic class-name operator" style="color:#393A34">:</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin">string</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style="color:#393A34">}</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">y</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name punctuation" style="color:#393A34">{</span><span class="token generic-function generic class-name"> foo</span><span class="token generic-function generic class-name operator" style="color:#393A34">:</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name builtin">string</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name punctuation" style="color:#393A34">}</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 1</span><br></span></code></pre><div class="buttonGroup_LZxu"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_IklN" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_zQrJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_JhWk"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- --><p>因此我们就可以用它来判断 X 和 Y 是否相同。</p>
<!-- --><h2 class="anchor anchorWithStickyNavbar_hX6q" id="特殊情况">特殊情况<!-- --><a href="https://huteming.github.io/blog/TS%20Equals#%E7%89%B9%E6%AE%8A%E6%83%85%E5%86%B5" class="hash-link" aria-label="特殊情况的直接链接" title="特殊情况的直接链接">​</a></h2>
<!-- --><p>以上只是解释了 Equal 的基本原理，ts 内部实现可能要复杂的多，可能有时候为了性能或者什么原因，会出现一些和常规认识不一样的结果</p>
<!-- --><h3 class="anchor anchorWithStickyNavbar_hX6q" id="nativeequal">NativeEqual<!-- --><a href="https://huteming.github.io/blog/TS%20Equals#nativeequal" class="hash-link" aria-label="NativeEqual的直接链接" title="NativeEqual的直接链接">​</a></h3>
<!-- --><div class="language-ts codeBlockContainer_Y9Cs theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_VidV"><pre tabindex="0" class="prism-code language-ts codeBlock_t113 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_i0ct"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">NaiveEquals</span><span class="token class-name operator" style="color:#393A34">&lt;</span><span class="token class-name constant" style="color:#36acaa">X</span><span class="token class-name punctuation" style="color:#393A34">,</span><span class="token class-name"> </span><span class="token class-name constant" style="color:#36acaa">Y</span><span class="token class-name operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">X</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name constant" style="color:#36acaa">Y</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">Y</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name constant" style="color:#36acaa">X</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#36acaa">A</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> NaiveEquals</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> a</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#36acaa">B</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Equals</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> a</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// false</span><br></span></code></pre><div class="buttonGroup_LZxu"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_IklN" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_zQrJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_JhWk"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- --><p>理论上 A 也应该是 false，因为类型 <!-- --><code>{a: string}</code> 可分配给 <!-- --> ，但不能分配给 <!-- --><code>{a?: number}</code></p>
<!-- --><h3 class="anchor anchorWithStickyNavbar_hX6q" id="联合类型">联合类型<!-- --><a href="https://huteming.github.io/blog/TS%20Equals#%E8%81%94%E5%90%88%E7%B1%BB%E5%9E%8B" class="hash-link" aria-label="联合类型的直接链接" title="联合类型的直接链接">​</a></h3>
<!-- --><div class="language-ts codeBlockContainer_Y9Cs theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_VidV"><pre tabindex="0" class="prism-code language-ts codeBlock_t113 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_i0ct"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#36acaa">A</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Equals</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> x</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> y</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> x</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> y</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// false</span><br></span></code></pre><div class="buttonGroup_LZxu"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_IklN" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_zQrJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_JhWk"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- --><p>理论上这里 A 应该是 true，但结果却是 false，了解不了，但是事实。</p>
<!-- --><h2 class="anchor anchorWithStickyNavbar_hX6q" id="总结">总结<!-- --><a href="https://huteming.github.io/blog/TS%20Equals#%E6%80%BB%E7%BB%93" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h2>
<!-- --><p>Equal 当作日常使用应该是没问题的，特殊情况我觉得完全可以当作补充知识去了解下。</p>
<!-- --><p>再次说明，原文在<!-- --><a href="https://stackoverflow.com/questions/68961864/how-does-the-equals-work-in-typescript" target="_blank" rel="noopener noreferrer">这里</a>。<!-- --></p>]]></content>
        <category label="ts" term="ts"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[css实现文字交融]]></title>
        <id>https://huteming.github.io/blog/css实现文字交融</id>
        <link href="https://huteming.github.io/blog/css实现文字交融"/>
        <updated>2024-01-23T08:59:39.000Z</updated>
        <summary type="html"><![CDATA[效果预览]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_hX6q" id="效果预览">效果预览<!-- --><a href="https://huteming.github.io/blog/css%E5%AE%9E%E7%8E%B0%E6%96%87%E5%AD%97%E4%BA%A4%E8%9E%8D#%E6%95%88%E6%9E%9C%E9%A2%84%E8%A7%88" class="hash-link" aria-label="效果预览的直接链接" title="效果预览的直接链接">​</a></h2>
<!-- --><p><a href="https://36sqt4.csb.app/" target="_blank" rel="noopener noreferrer">在线查看</a></p>
<!-- --><h2 class="anchor anchorWithStickyNavbar_hX6q" id="知识点">知识点<!-- --><a href="https://huteming.github.io/blog/css%E5%AE%9E%E7%8E%B0%E6%96%87%E5%AD%97%E4%BA%A4%E8%9E%8D#%E7%9F%A5%E8%AF%86%E7%82%B9" class="hash-link" aria-label="知识点的直接链接" title="知识点的直接链接">​</a></h2>
<!-- --><p><a href="https://juejin.cn/post/7245316146336563261" target="_blank" rel="noopener noreferrer">文章链接</a></p>]]></content>
        <category label="css" term="css"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[浏览器原生支持 ES6 模块]]></title>
        <id>https://huteming.github.io/blog/浏览器原生支持 ES6 模块</id>
        <link href="https://huteming.github.io/blog/浏览器原生支持 ES6 模块"/>
        <updated>2024-01-23T08:59:39.000Z</updated>
        <summary type="html"><![CDATA[MDN 详细介绍]]></summary>
        <content type="html"><![CDATA[<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules" target="_blank" rel="noopener noreferrer">MDN 详细介绍</a></p>
<!-- --><h2 class="anchor anchorWithStickyNavbar_hX6q" id="不能使用裸露的模块说明符">不能使用裸露的模块说明符<!-- --><a href="https://huteming.github.io/blog/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8E%9F%E7%94%9F%E6%94%AF%E6%8C%81%20ES6%20%E6%A8%A1%E5%9D%97#%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8%E8%A3%B8%E9%9C%B2%E7%9A%84%E6%A8%A1%E5%9D%97%E8%AF%B4%E6%98%8E%E7%AC%A6" class="hash-link" aria-label="不能使用裸露的模块说明符的直接链接" title="不能使用裸露的模块说明符的直接链接">​</a></h2>
<!-- --><div class="language-js codeBlockContainer_Y9Cs theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_VidV"><pre tabindex="0" class="prism-code language-js codeBlock_t113 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_i0ct"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Bad: 这样是错误的写法，不支持的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> name </span><span class="token imports keyword module" style="color:#00009f">as</span><span class="token imports"> squareNameOne </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'shapes'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> name </span><span class="token imports keyword module" style="color:#00009f">as</span><span class="token imports"> squareNameTwo </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'shapes/square'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Good: 应该这样子</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> name </span><span class="token imports keyword module" style="color:#00009f">as</span><span class="token imports"> squareName</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> draw </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'./shapes/square.js'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> name </span><span class="token imports keyword module" style="color:#00009f">as</span><span class="token imports"> squareName</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> draw </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'/shapes/square.js'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> name </span><span class="token imports keyword module" style="color:#00009f">as</span><span class="token imports"> circleName </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'https://example.com/shapes/circle.js'</span><br></span></code></pre><div class="buttonGroup_LZxu"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_IklN" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_zQrJ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_JhWk"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<!-- --><p>默认情况下不支持，但是可以通过定义 <!-- --><strong>导入映射</strong> 来实现。<!-- --><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules#importing_modules_using_import_maps" target="_blank" rel="noopener noreferrer">查看详细文档</a></p>
<!-- --><h2 class="anchor anchorWithStickyNavbar_hX6q" id="总是-cors-跨域">总是 CORS 跨域<!-- --><a href="https://huteming.github.io/blog/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8E%9F%E7%94%9F%E6%94%AF%E6%8C%81%20ES6%20%E6%A8%A1%E5%9D%97#%E6%80%BB%E6%98%AF-cors-%E8%B7%A8%E5%9F%9F" class="hash-link" aria-label="总是 CORS 跨域的直接链接" title="总是 CORS 跨域的直接链接">​</a></h2>
<!-- --><h2 class="anchor anchorWithStickyNavbar_hX6q" id="默认-defer-行为">默认 Defer 行为<!-- --><a href="https://huteming.github.io/blog/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8E%9F%E7%94%9F%E6%94%AF%E6%8C%81%20ES6%20%E6%A8%A1%E5%9D%97#%E9%BB%98%E8%AE%A4-defer-%E8%A1%8C%E4%B8%BA" class="hash-link" aria-label="默认 Defer 行为的直接链接" title="默认 Defer 行为的直接链接">​</a></h2>
<!-- --><h2 class="anchor anchorWithStickyNavbar_hX6q" id="模块只会执行一次">模块只会执行一次<!-- --><a href="https://huteming.github.io/blog/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8E%9F%E7%94%9F%E6%94%AF%E6%8C%81%20ES6%20%E6%A8%A1%E5%9D%97#%E6%A8%A1%E5%9D%97%E5%8F%AA%E4%BC%9A%E6%89%A7%E8%A1%8C%E4%B8%80%E6%AC%A1" class="hash-link" aria-label="模块只会执行一次的直接链接" title="模块只会执行一次的直接链接">​</a></h2>
<!-- --><h2 class="anchor anchorWithStickyNavbar_hX6q" id="限定作用域">限定作用域<!-- --><a href="https://huteming.github.io/blog/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8E%9F%E7%94%9F%E6%94%AF%E6%8C%81%20ES6%20%E6%A8%A1%E5%9D%97#%E9%99%90%E5%AE%9A%E4%BD%9C%E7%94%A8%E5%9F%9F" class="hash-link" aria-label="限定作用域的直接链接" title="限定作用域的直接链接">​</a></h2>
<!-- --><p>模块功能被导入到单个脚本的范围内, <!-- --><strong>它们在全局范围内不可用</strong>。<!-- --></p>
<!-- --><p>因此，您只能在导入的脚本中访问导入的功能，而无法从 JavaScript 控制台访问它们。</p>]]></content>
        <category label="html" term="html"/>
    </entry>
</feed>