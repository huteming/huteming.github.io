---
title: 数据结构-链表
summary: 数据结构之链表
date: 2020-05-09
---

---

## 特点

链表是一种在物理上非连续、非顺序的数据结构，由若干节点所成。在内存中的存储方式是随机存储。

### 单向链表

单向链表的每一个节点又包含两部分，一部分是存放数据的变量data，另一部分是指向下一个节点的指针next。

链表的第1个节点被称为头节点，最后1个节点被称为尾节点，尾节点的next指 针指向空。

### 双向链表

双向链表比单向链表稍微复杂一些，它的每一个节点除了拥有data和next指
针，还拥有指向前置节点的prev指针

## 基本操作

### 查找节点

在查找元素时，链表不像数组那样可以通过下标快速进行定位，只能从头节点
开始向后一个一个节点逐一查找。

### 更新节点

如果不考虑查找节点的过程，链表的更新过程会像数组那样简单，直接把旧数
据替换成新数据即可

### 插入节点

#### 尾部插入

尾部插入，是最简单的情况，把最后一个节点的next指针指向新插入的节点即 可。

#### 头部插入

1. 把新节点的next指针指向原先的头节点。

2. 把新节点变为链表的头节点。

#### 中间插入

1. 新节点的next指针，指向插入位置的节点。

2. 插入位置前置节点的next指针，指向新节点

### 删除元素

#### 尾部删除

尾部删除，是最简单的情况，把倒数第2个节点的next指针指向空即可

#### 头部删除

头部删除，也很简单，把链表的头节点设为原先头节点的next指针即可

#### 中间删除

中间删除，同样很简单，把要删除节点的前置节点的next指针，指向要删除元 素的下一个节点即可。

## 代码实现

```js
class Node {
  constructor (data) {
    this.data = data
    this.next = null
  }
}

class MyLink {
  constructor () {
    this.head = null
    this.last = null
    this.size = 0
  }

  insert (data, index = this.size) {
    if (index < 0 || index > this.size) {
      throw new Error('超出范围')
    }
    const node = new Node(data)
    const size = this.size
    this.size++
    if (size === 0) {
      this.head = node
      this.last = node
      return
    }
    // 头部插入
    if (index === 0) {
      node.next = this.head
      this.head = node
      return
    }
    // 尾部插入
    if (index === size) {
      this.last.next = node
      this.last = node
      return
    }
    // 中间插入
    const prevNode = this.find(index - 1)
    node.next = prevNode.next
    prevNode.next = node
  }

  destroy (index) {
    if (index < 0 || index >= this.size) {
      return
    }
    const size = this.size
    this.size--
    // 删除头部
    if (index === 0) {
      this.head = this.head.next
      return
    }
    // 删除尾部
    if (index === size - 1) {
      const prevNode = this.find(index - 1)
      prevNode.next = null
      this.last = prevNode
      return
    }
    // 删除中间节点
    const prevNode = this.find(index - 1)
    prevNode.next = prevNode.next.next
  }

  update (index, data) {
    if (index < 0 || index >= this.size) {
      throw new Error('超出范围')
    }
    // 更新头部
    if (index === 0) {
      this.head.data = data
      return
    }
    // 更新尾部
    if (index === this.size - 1) {
      this.last.data = data
      return
    }
    const currentNode = this.find(index)
    currentNode.data = data
  }

  find (index) {
    if (index < 0 || index >= this.size) {
      return null
    }
    let result = this.head
    for (let i = 1; i <= index; i++) {
      result = result.next
    }
    return result
  }

  output () {
    if (this.size === 0) {
      return ''
    }
    const result = []
    let current = this.head
    for (let i = 0; i < this.size; i++) {
      result.push(current.data)
      current = current.next
    }
    console.log(result.join(', '))
  }
}
```

## 优势 & 劣势

![数组和链表对比](/algorithm/link.png)

### 优势

链表的优势在于能够灵活地进行插入和删除操作，如果需要在尾部频繁插入、删除元素，用链表更合适一些。

### 劣势

链表的劣势在于查找过程相对数组来说会更加耗时
