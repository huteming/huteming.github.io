## 强缓存

强缓存，在缓存数据未失效的情况下，客户端可以直接使用缓存数据，不用和数据库进行交互。

那么，判断请求是否失效主要靠两个 HTTP Header：

`Expires`: 数据的缓存到期时间，下一次请求时，请求时间小于服务端返回的到期时间，直接使用缓存数据。

`Cache-Control`: 可以指定一个 `max-age` 字段，表示缓存的内容将在一定时间后失效。

## 协商缓存

协商缓存，顾名思义需要和服务器进行一次协商。浏览器第一次请求时，服务器会将缓存标识与数据一起返回给客户端，客户端将二者备份至缓存数据库中。

再次请求数据时，客户端将备份的缓存标识发送给服务器，服务器根据缓存标识进行判断，判断成功后，返回 304 状态码，通知客户端比较成功，可以使用缓存数据。

判断请求主要靠下面两组 HTTP Header：

`Last-Modified`: 一个 `Response Header`，服务器在响应请求时，告诉浏览器资源的最后修改时间。

`if-Modified-Since`: 一个 `Request Header`，再次请求服务器时，通过此字段通知服务器上次请求时，服务器返回的资源最后修改时间。

服务器会通过收到的 `If-Modified-Since` 和资源的最后修改时间进行比对，判断是否使用缓存。

`Etag`: 一个 `Response Header`，服务器返回的资源的唯一标示

`If-None-Match`: 一个 `Request Header`，再次请求服务器时，通过此字段通知服务器客户段缓存数据的唯一标识。

服务器会通过收到的 `If-None-Match` 和资源的唯一标识进行对比，判断是否使用缓存。
